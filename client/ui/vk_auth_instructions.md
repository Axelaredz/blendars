# Инструкция по тестированию VK аутентификации

## Получение VK Access Token

Для тестирования аутентификации через VK вам понадобится access token. Вот как его можно получить:

### Вариант 1: Через VK API Explorer

1. Перейдите на страницу VK API Explorer: https://dev.vk.com/api/tools/api-console
2. Авторизуйтесь в VK
3. Выберите любой метод, например `users.get`
4. В правом верхнем углу нажмите "Получить токен"
5. Выберите необходимые права (для аутентификации обычно достаточно basic rights)
6. Скопируйте полученный токен

### Вариант 2: Через OAuth Flow (браузер)

1. Создайте VK Standalone приложение на https://vk.com/apps
2. Используйте следующий URL для получения токена:

```
https://oauth.vk.com/authorize?client_id=YOUR_APP_ID&display=page&redirect_uri=https://oauth.vk.com/blank.html&scope=email&response_type=token&v=5.131
```

Замените YOUR_APP_ID на ID вашего приложения.

3. После авторизации вы получите токен в URL адресе после # (часть access_token=...)

### Вариант 3: Для тестирования в приложении

Если вы хотите протестировать в нашем приложении:

1. Запустите Godot проект
2. Перейдите в "VK Auth Test" через главное меню
3. Введите полученный токен в поле ввода
4. Нажмите "Authenticate with VK"

## Важные замечания

- Токены VK имеют ограниченное время жизни (обычно 1 час)
- Для продакшена рекомендуется использовать полноценный OAuth flow в браузере
- Токен должен быть передан из браузера в приложение безопасным способом

## Настройка сервера

Убедитесь, что на вашем сервере Nakama настроена аутентификация через VK:

В файле server.yml:
```yaml
social:
  vk:
    app_id: "your_vk_app_id"
    app_secret: "your_vk_app_secret"
```

## Тестирование

После получения токена вы можете:

1. Использовать форму в "VK Auth Test" в приложении
2. Или изменить test_vk_auth.gd скрипт, заменив "YOUR_VK_ACCESS_TOKEN_HERE" на реальный токен
3. Запустить скрипт: `godot --script test_vk_auth.gd`

Если аутентификация прошла успешно, вы увидите информацию о пользователе VK в логах.